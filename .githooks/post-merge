#!/usr/bin/env bash
# File generated by prek: https://github.com/j178/prek
# ID: 182c10f181da4464a3eec51b83331688

ARGS=(hook-impl --hook-type=post-merge --color=always --skip-on-missing-config --script-version=4)

# Detect quiet mode and forward to prek
if [ -n "$GIT_QUIET" ]; then
    ARGS+=(--quiet)
fi

HERE="$(cd "$(dirname "$0")" && pwd)"
ARGS+=(--hook-dir "$HERE" -- "$@")
PREK="/usr/bin/prek"

# Check if the full path to prek is executable, otherwise fallback to PATH
if [ ! -x "$PREK" ]; then
    PREK="prek"
fi

# Show only the first line to reduce spam while indicating hooks are running.
exec "$PREK" "${ARGS[@]}" | head -n 1
